{% extends 'base.html' %}

{% block title %}Import CSV Data - Admin - KalyanX{% endblock %}

{% block head_extra %}
<meta name="robots" content="noindex, nofollow">
{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="h3 mb-0"><i class="fas fa-file-import me-2"></i> Import CSV Data</h1>
    <div>
        <a href="{{ url_for('admin.index') }}" class="btn btn-secondary"><i class="fas fa-arrow-left me-1"></i> Back to Dashboard</a>
    </div>
</div>

<div class="card mb-4">
    <div class="card-header bg-dark">
        <h5 class="mb-0">Upload CSV File</h5>
    </div>
    <div class="card-body">
        <form method="post" enctype="multipart/form-data">
            <div class="mb-3">
                <label for="csv-file" class="form-label">Select CSV file with market data</label>
                <input type="file" class="form-control" id="csv-file" name="csv_file" accept=".csv" required>
            </div>
            
            <div class="mb-3">
                <div class="form-text">
                    <p>CSV file should have the following columns:</p>
                    <ul>
                        <li><strong>Date</strong> - in format YYYY-MM-DD</li>
                        <li><strong>Market</strong> - market name matching the configured markets</li>
                        <li><strong>Open</strong> - 3-digit open number</li>
                        <li><strong>Close</strong> - 3-digit close number</li>
                        <li><strong>Jodi</strong> - 2-digit jodi number</li>
                    </ul>
                </div>
            </div>
            
            <div>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-upload me-1"></i> Import Data
                </button>
            </div>
        </form>
    </div>
</div>

<div class="card mb-4">
    <div class="card-header bg-dark">
        <h5 class="mb-0">Sample CSV Format</h5>
    </div>
    <div class="card-body">
        <pre class="bg-light p-3 rounded">
Date,Market,Open,Close,Jodi
2025-05-03,Time Bazar,123,456,36
2025-05-03,Milan Day,789,123,93
2025-05-03,Kalyan,234,567,47
2025-05-03,Milan Night,678,901,81
2025-05-03,Main Bazar,345,678,58</pre>
    </div>
</div>
{% endblock %}